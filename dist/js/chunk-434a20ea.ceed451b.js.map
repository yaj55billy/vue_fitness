{"version":3,"sources":["webpack:///./src/views/Dashboard.vue?21fe","webpack:///src/views/Dashboard.vue","webpack:///./src/views/Dashboard.vue?3f19","webpack:///./src/views/Dashboard.vue","webpack:///./src/views/Dashboard.vue?9460"],"names":["render","_vm","this","_h","$createElement","_c","_self","_v","staticClass","attrs","on","$event","preventDefault","signout","token","_e","staticRenderFns","data","checkSuccess","created","checkLogin","methods","document","cookie","replace","axios","defaults","headers","common","Authorization","post","api","api_token","$bus","$emit","$router","push","component"],"mappings":"uHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,KAAK,CAACJ,EAAIM,GAAG,YAAYF,EAAG,MAAM,CAACG,YAAY,6EAA6E,CAACH,EAAG,IAAI,CAACG,YAAY,uDAAuDC,MAAM,CAAC,KAAO,MAAM,CAACR,EAAIM,GAAG,YAAYF,EAAG,MAAM,CAACG,YAAY,WAAW,CAACH,EAAG,KAAK,CAACG,YAAY,mBAAmB,CAACH,EAAG,KAAK,CAACG,YAAY,wBAAwB,CAACH,EAAG,cAAc,CAACG,YAAY,kBAAkBC,MAAM,CAAC,GAAK,MAAM,CAACR,EAAIM,GAAG,UAAU,GAAGF,EAAG,KAAK,CAACG,YAAY,wBAAwB,CAACH,EAAG,IAAI,CAACG,YAAY,WAAWC,MAAM,CAAC,KAAO,KAAKC,GAAG,CAAC,MAAQ,SAASC,GAAgC,OAAxBA,EAAOC,iBAAwBX,EAAIY,QAAQF,MAAW,CAACV,EAAIM,GAAG,gBAAgBF,EAAG,MAAM,CAACG,YAAY,mBAAmB,CAACH,EAAG,MAAM,CAACG,YAAY,OAAO,CAACH,EAAG,MAAM,CAACG,YAAY,iDAAiD,CAACH,EAAG,MAAM,CAACG,YAAY,uBAAuB,CAACH,EAAG,KAAK,CAACG,YAAY,OAAO,CAACH,EAAG,KAAK,CAACG,YAAY,YAAY,CAACH,EAAG,cAAc,CAACG,YAAY,4DAA4DC,MAAM,CAAC,GAAK,oBAAoB,CAACR,EAAIM,GAAG,aAAa,GAAGF,EAAG,KAAK,CAACG,YAAY,YAAY,CAACH,EAAG,cAAc,CAACG,YAAY,4BAA4BC,MAAM,CAAC,GAAK,mBAAmB,CAACR,EAAIM,GAAG,cAAc,GAAGF,EAAG,KAAK,CAACG,YAAY,YAAY,CAACH,EAAG,cAAc,CAACG,YAAY,4BAA4BC,MAAM,CAAC,GAAK,iBAAiB,CAACR,EAAIM,GAAG,aAAa,GAAGF,EAAG,KAAK,CAACG,YAAY,YAAY,CAACH,EAAG,cAAc,CAACG,YAAY,4BAA4BC,MAAM,CAAC,GAAK,oBAAoB,CAACR,EAAIM,GAAG,aAAa,SAASF,EAAG,MAAM,CAACG,YAAY,2BAA2B,CAAEP,EAAgB,aAAEI,EAAG,cAAc,CAACI,MAAM,CAAC,MAAQR,EAAIa,SAASb,EAAIc,MAAM,UAC/rDC,EAAkB,GCoFtB,G,oBAAA,CACEC,KADF,WAEI,MAAO,CACLH,MAAO,GACPI,cAAc,IAGlBC,QAPF,WAQIjB,KAAKkB,cAEPC,QAAS,CACPD,WADJ,WACA,WAEMlB,KAAKY,MAAQQ,SAASC,OAAOC,QAAQ,8CAA+C,MACpFtB,KAAKuB,MAAMC,SAASC,QAAQC,OAAOC,cAAgB,UAAzD,mBACM,IAAN,oEAEM3B,KAAKuB,MAAMK,KAAKC,EAAK,CACnBC,UAAW9B,KAAKY,QACxB,iBACQ,EAAR,mBACA,kBACQ,EAAR,2BAGID,QAfJ,WAiBMS,SAASC,OAAS,2BAClBrB,KAAK+B,KAAKC,MAAM,cAAe,UAC/BhC,KAAKiC,QAAQC,KAAK,SClH2T,I,wBCQ/UC,EAAY,eACd,EACArC,EACAgB,GACA,EACA,KACA,KACA,MAIa,aAAAqB,E,2CCnBf,yBAA8gB,EAAG,G","file":"js/chunk-434a20ea.ceed451b.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h2',[_vm._v(\"後台管理頁面\")]),_c('nav',{staticClass:\"navbar navbar-dark fixed-top bg-dark flex-md-nowrap shadow navbar-expand \"},[_c('a',{staticClass:\"navbar-brand col-sm-3 col-md-2 mr-0 active text-left\",attrs:{\"href\":\"#\"}},[_vm._v(\"後台管理頁面\")]),_c('div',{staticClass:\"ml-auto\"},[_c('ul',{staticClass:\"navbar-nav px-3\"},[_c('li',{staticClass:\"nav-item text-nowrap\"},[_c('router-link',{staticClass:\"nav-link active\",attrs:{\"to\":\"/\"}},[_vm._v(\"回首頁\")])],1),_c('li',{staticClass:\"nav-item text-nowrap\"},[_c('a',{staticClass:\"nav-link\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.signout($event)}}},[_vm._v(\"登出\")])])])])]),_c('div',{staticClass:\"container-fluid\"},[_c('div',{staticClass:\"row\"},[_c('nav',{staticClass:\"col-lg-2 col-md-3 d-md-block bg-light sidebar\"},[_c('div',{staticClass:\"sidebar-sticky mt-4\"},[_c('ul',{staticClass:\"nav\"},[_c('li',{staticClass:\"nav-item\"},[_c('router-link',{staticClass:\"nav-link font-weight-bold router-link-exact-active active\",attrs:{\"to\":\"/admin/products\"}},[_vm._v(\" 產品列表 \")])],1),_c('li',{staticClass:\"nav-item\"},[_c('router-link',{staticClass:\"nav-link font-weight-bold\",attrs:{\"to\":\"/admin/coupons\"}},[_vm._v(\" 優惠券列表 \")])],1),_c('li',{staticClass:\"nav-item\"},[_c('router-link',{staticClass:\"nav-link font-weight-bold\",attrs:{\"to\":\"/admin/order\"}},[_vm._v(\" 訂單列表 \")])],1),_c('li',{staticClass:\"nav-item\"},[_c('router-link',{staticClass:\"nav-link font-weight-bold\",attrs:{\"to\":\"/admin/storages\"}},[_vm._v(\" 圖片列表 \")])],1)])])]),_c('div',{staticClass:\"col-lg-10 col-md-9 px-4\"},[(_vm.checkSuccess)?_c('router-view',{attrs:{\"token\":_vm.token}}):_vm._e()],1)])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <h2>後台管理頁面</h2>\n    <nav class=\"navbar navbar-dark fixed-top bg-dark flex-md-nowrap shadow navbar-expand \">\n      <a href=\"#\" class=\"navbar-brand col-sm-3 col-md-2 mr-0 active text-left\">後台管理頁面</a>\n      <div class=\"ml-auto\">\n        <ul class=\"navbar-nav px-3\">\n          <li class=\"nav-item text-nowrap\">\n            <router-link to=\"/\" class=\"nav-link active\">回首頁</router-link>\n          </li>\n          <li class=\"nav-item text-nowrap\">\n            <a href=\"#\" class=\"nav-link\" @click.prevent=\"signout\">登出</a>\n          </li>\n        </ul>\n      </div>\n    </nav>\n\n    <div class=\"container-fluid\">\n      <div class=\"row\">\n        <!-- 側邊 -->\n        <nav class=\"col-lg-2 col-md-3 d-md-block bg-light sidebar\">\n          <div class=\"sidebar-sticky mt-4\">\n            <ul class=\"nav\">\n              <!-- flex-column -->\n              <li class=\"nav-item\">\n                <router-link to=\"/admin/products\"\n                class=\"nav-link font-weight-bold router-link-exact-active active\">\n                  產品列表\n                </router-link>\n              </li>\n              <li class=\"nav-item\">\n                <router-link to=\"/admin/coupons\"\n                class=\"nav-link font-weight-bold\">\n                  優惠券列表\n                </router-link>\n              </li>\n              <li class=\"nav-item\">\n                <router-link to=\"/admin/order\"\n                class=\"nav-link font-weight-bold\">\n                  訂單列表\n                </router-link>\n              </li>\n              <li class=\"nav-item\">\n                <router-link to=\"/admin/storages\"\n                class=\"nav-link font-weight-bold\">\n                  圖片列表\n                </router-link>\n              </li>\n            </ul>\n          </div>\n        </nav>\n        <!-- 後台主要內容，帶 :token 到其他頁 props 接收  -->\n\n        <div class=\"col-lg-10 col-md-9 px-4\">\n          <router-view :token=\"token\" v-if=\"checkSuccess\"></router-view>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\">\n.nav{\n  .nav-item{\n    width: 100%;\n    text-align: left;\n    @media (max-width: 767px) {\n      width: 25%;\n      text-align: center;\n    }\n    @media (max-width: 575px) {\n      width: 50%;\n    }\n  }\n}\n\n.router-link-active{\n  color: lighten(#274555,25%);\n  &:hover{\n    color: lighten(#274555,25%);\n  }\n}\n</style>\n\n<script>\nexport default {\n  data() {\n    return {\n      token: '',\n      checkSuccess: false,\n    };\n  },\n  created() {\n    this.checkLogin();\n  },\n  methods: {\n    checkLogin() {\n      // 確認是否是有 token (登入)，沒有 token 則回 login 頁面\n      this.token = document.cookie.replace(/(?:(?:^|.*;\\s*)token\\s*=\\s*([^;]*).*$)|^.*$/, '$1');\n      this.axios.defaults.headers.common.Authorization = `Bearer ${this.token}`;\n      const api = `${process.env.VUE_APP_APIPATH}/auth/check`;\n\n      this.axios.post(api, {\n        api_token: this.token,\n      }).then(() => {\n        this.checkSuccess = true;\n      }).catch(() => {\n        this.$router.push('/login');\n      });\n    },\n    signout() {\n      // 登出\n      document.cookie = 'token=; expires=; path=/';\n      this.$bus.$emit('notice-user', '您已登出~~');\n      this.$router.push('/');\n    },\n  },\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dashboard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dashboard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Dashboard.vue?vue&type=template&id=19003e20&\"\nimport script from \"./Dashboard.vue?vue&type=script&lang=js&\"\nexport * from \"./Dashboard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Dashboard.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dashboard.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dashboard.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}